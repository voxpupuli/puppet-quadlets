# @summary custom datatype for container entries of podman container quadlet
# @see https://docs.podman.io/en/latest/markdown/podman-systemd.unit.5.html
type Quadlets::Unit::Container = Struct[
  Optional['AddCapability'] => Variant[Array[String[1],1], String[1]],
  Optional['AddDevice'] => Variant[Array[String[1],1], String[1]],
  Optional['AddHost'] => Variant[Array[String[1],1], String[1]],
  Optional['Annotation'] => Variant[Array[String[1],1], String[1]],
  Optional['AutoUpdate']  => Enum['registry','local'],
  Optional['CgroupsMode'] => Enum['enabled','disabled','no-conmon','split'],
  Optional['ContainerName'] => String[1],
  Optional['ContainersConfModule'] => Variant[Array[String[1],1], String[1]],
  Optional['DNS'] => Array[Stdlib::IP::Address,0],
  Optional['DNSOption'] => Variant[Array[String[1],0], String[1]],
  Optional['DNSSearch'] => Variant[Array[Stdlib::Fqdn,0], Stdlib::Fqdn],
  Optional['DropCapability'] => Variant[Array[String[1],0], String[1]],
  Optional['Entrypoint'] => String,
  Optional['Environment'] => Variant[Array[String[1],0], String[1]],
  Optional['EnvironmentFile'] => Variant[Array[String[1],0], String[1]],
  Optional['EnvironmentHost'] => Variant[Array[String[1],0], String[1]],
  Optional['Exec'] => String[1],
  Optional['ExposeHostPort'] => Variant[Array[Stdlib::Port,0], Stdlib::Port],
  Optional['GIDMap'] => Variant[Array[String[1],0], String[1]],
  Optional['GlobalArgs'] => Variant[Array[String[1],0], String[1]],
  Optional['Group'] => Variant[String[1],Integer[0]],
  Optional['GroupAdd'] => String[1],
  Optional['HealthCmd'] => String[1],
  Optional['HealthInterval'] => Variant[String[1],Integer[0]],
  Optional['HealthLogDestination'] => Variant[Stdlib::Unixpath,Enum['local','events_logger']],
  Optional['HealthMaxLogCount'] => Integer[0],
  Optional['HealthMaxLogSize'] => Integer[0],
  Optional['HealthOnFailure'] => Enum['none','kill','restart','stop'],
  Optional['HealthRetries'] => Variant[String[1],Integer[0]],
  Optional['HealthStartPeriod'] => Variant[String[1],Integer[0]],
  Optional['HealthStartupCmd'] => String[1],
  Optional['HealthStartupInterval'] => Variant[Enum['disable'],Integer[0]],
  Optional['HealthStartupTimeout'] => Variant[String[1],Integer[0]],
  Optional['HealthTimeout'] => String[1],
  Optional['HostName'] => Variant[String[1],Array[String[1],1]],
  Optional['Image'] => String[1],
  Optional['IP'] => Stdlib::IP::Address::V4,
  Optional['IP6'] => Stdlib::IP::Address::V6,
  Optional['Label'] => Variant[String[1],Array[String[1],1]],
  Optional['LogDriver'] => Enum['k8s-file','journald','none','passthrough'],
  Optional['Mask'] => String[1],
  Optional['Memory'] => String[1],
  Optional['Mount'] => Variant[Array[String[1],0], String[1]],
  Optional['Network'] => Variant[Array[String[1],0],String[1]],
  Optional['NetworkAlias'] => Variant[Array[String[1],0], String[1]],
  Optional['NoNewPrivileges'] => Boolean,
  Optional['Notify'] => Boolean,
  Optional['PidsLimits'] => Integer[-1],
  Optional['Pod'] => Pattern[/^[a-zA-Z0-9_-]+\.pod$/],
  Optional['PodmanArgs'] => Variant[Array[String[1],0], String[1]],
  Optional['PublishPort'] => Variant[Array[Variant[Stdlib::Port,String[1]],1], Variant[Stdlib::Port,String[1]]],
  Optional['Pull'] => Enum['always','missing','never','newer'],
  Optional['ReadOnly'] => Boolean,
  Optional['ReadOnlyTmpfs'] => Boolean,
  Optional['ReloadCmd'] => String[1],
  Optional['ReloadSignal'] => String[1],
  Optional['Retry'] => Integer[-1],
  Optional['Rootfs'] => String[1],
  Optional['RunInit'] => Boolean,
  Optional['SeccompProfile'] => String[1],
  Optional['Secret'] => Variant[Array[String[1],0], String[1]],
  Optional['SecurityLabelDisable'] => Boolean,
  Optional['SecurityLabelFileType'] => String[1],
  Optional['SecurityLabelNested'] => Boolean,
  Optional['ShmSize'] => String[1],
  Optional['StartWithPod'] => Boolean,
  Optional['StopSignal'] => String[1],
  Optional['StopTimeout'] => Integer[1],
  Optional['SubGIDMap'] => String[1],
  Optional['SubUIDMap'] => String[1],
  Optional['Sysctl'] => Variant[Array[String[1],0], String[1]],
  Optional['Timezone'] => String[1],
  Optional['Tmpfs'] => Variant[Array[String[1],0], String[1]],
  Optional['UIDMap'] => Variant[Array[String[1],0], String[1]],
  Optional['Ulimit'] => String[1],
  Optional['Unmask'] => String[1],
  Optional['User'] => Variant[String[1],Integer[0]],
  Optional['UserNS'] => String[1],
  Optional['Volume'] => Variant[Array[String[1],0], String[1]],
  Optional['WorkingDir'] => Stdlib::Unixpath,
]
